> Осень 2023, DevOps
# Тестовое задание CodeX

## Задача

Реализовать прототип хранилища метрик.

## Реализация

### Тестовое приложение

Для демонстрации работы прототипа было создано django-приложение. Оно позволяет создавать и редактировать простые заметки, смотреть список всех заметок. Данные хранятся в базе данных PostgreSQL. Для получения данных о заметках и их количестве через REST API был использован Django REST framework.

### Сбор метрик и визуализация

Для сбора метрик была выбрана связка telegraf + influxDB. Telegraf с помощью плагина HTTP input собирает метрики и передаёт в influxDB. Для визуализации используется Grafana.

### Запуск и настройка

Для запуска достаточно  ввести команду \
`docker compose up`  \
При первом запуске для корректной работе может потребоваться применить миграции. Для этого надо зайти в контейнер (чтобы найти его id можно воспользоваться командой `docker ps`) командой `docker exec -it <container_id> sh`. После этого вводим
```
python manage.py makemigrations 
python manage.py migrate
```
После этого django приложение должно работать. 

Для доступа к Grafana надо перейти на локальной машине по адресу `localhost:3000`.